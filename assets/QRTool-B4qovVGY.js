const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/qr-code-styling-DCxYjdwk.js","assets/_commonjsHelpers-Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{r as a,j as e,_ as L}from"./index-DaAwleHW.js";import"./_commonjsHelpers-Cpj98o6Y.js";let v;try{v=(await L(async()=>{const{default:l}=await import("./qr-code-styling-DCxYjdwk.js").then(s=>s.q);return{default:l}},__vite__mapDeps([0,1]))).default??await L(()=>import("./qr-code-styling-DCxYjdwk.js").then(l=>l.q),__vite__mapDeps([0,1]))}catch{v=window?.QRCodeStyling}const g=l=>{let s=l;return s=s.replace(/Ã |Ã¡|áº¡|áº£|Ã£|Ã¢|áº§|áº¥|áº­|áº©|áº«|Äƒ|áº±|áº¯|áº·|áº³|áºµ/g,"a"),s=s.replace(/Ã¨|Ã©|áº¹|áº»|áº½|Ãª|á»|áº¿|á»‡|á»ƒ|á»…/g,"e"),s=s.replace(/Ã¬|Ã­|á»‹|á»‰|Ä©/g,"i"),s=s.replace(/Ã²|Ã³|á»|á»|Ãµ|Ã´|á»“|á»‘|á»™|á»•|á»—|Æ¡|á»|á»›|á»£|á»Ÿ|á»¡/g,"o"),s=s.replace(/Ã¹|Ãº|á»¥|á»§|Å©|Æ°|á»«|á»©|á»±|á»­|á»¯/g,"u"),s=s.replace(/á»³|Ã½|á»µ|á»·|á»¹/g,"y"),s=s.replace(/Ä‘/g,"d"),s=s.replace(/Ã€|Ã|áº |áº¢|Ãƒ|Ã‚|áº¦|áº¤|áº¬|áº¨|áºª|Ä‚|áº°|áº®|áº¶|áº²|áº´/g,"A"),s=s.replace(/Ãˆ|Ã‰|áº¸|áºº|áº¼|ÃŠ|á»€|áº¾|á»†|á»‚|á»„/g,"E"),s=s.replace(/ÃŒ|Ã|á»Š|á»ˆ|Ä¨/g,"I"),s=s.replace(/Ã’|Ã“|á»Œ|á»Ž|Ã•|Ã”|á»’|á»|á»˜|á»”|á»–|Æ |á»œ|á»š|á»¢|á»ž|á» /g,"O"),s=s.replace(/Ã™|Ãš|á»¤|á»¦|Å¨|Æ¯|á»ª|á»¨|á»°|á»¬|á»®/g,"U"),s=s.replace(/á»²|Ã|á»´|á»¶|á»¸/g,"Y"),s=s.replace(/Ä/g,"D"),s=s.replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,""),s=s.replace(/\u02C6|\u0306|\u031B/g,""),s=s.replace(/ + /g," "),s.trim()},n="w-full rounded-xl border border-zinc-300/70 bg-white/60 backdrop-blur px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-cyan-500/60 dark:bg-zinc-900/50 dark:border-zinc-700";function Z(){const l=a.useRef(null),s=a.useRef(null),[r,O]=a.useState("link"),i=300,[f,R]=a.useState(1024),[o,D]=a.useState(2),[d,P]=a.useState("#6a1a4c"),[u,$]=a.useState("#0000ff"),[m,z]=a.useState("#ffffff"),[x,I]=a.useState("H"),[p,V]=a.useState(void 0),[j,A]=a.useState(""),[N,q]=a.useState(""),[b,W]=a.useState(""),[y,B]=a.useState(""),[C,M]=a.useState(""),[w,Q]=a.useState(""),[S,G]=a.useState(""),[E,U]=a.useState(""),[T,F]=a.useState("WPA"),k=a.useMemo(()=>{if(r==="link")return g(j)||" ";if(r==="vcard"){const t=g(N),c=g(C),h=g(w);return`BEGIN:VCARD
VERSION:3.0
FN:${t}
ORG:${c}
TITLE:${h}
TEL:${b}
EMAIL:${y}
END:VCARD`}return`WIFI:T:${T};S:${S};P:${E};;`},[r,j,N,b,y,C,w,S,E,T]);a.useEffect(()=>{!l.current||!v||s.current||(s.current=new v({width:i,height:i,type:"svg",data:k,qrOptions:{errorCorrectionLevel:x,mode:"Byte"},image:p,imageOptions:{crossOrigin:"anonymous",margin:o},dotsOptions:{color:d,type:"rounded"},cornersSquareOptions:{color:u,type:"extra-rounded"},backgroundOptions:{color:m}}),s.current.append(l.current))},[]),a.useEffect(()=>{s.current&&s.current.update({width:i,height:i,data:k,qrOptions:{errorCorrectionLevel:x,mode:"Byte"},image:p,imageOptions:{crossOrigin:"anonymous",margin:o},dotsOptions:{color:d,type:"rounded"},cornersSquareOptions:{color:u,type:"extra-rounded"},backgroundOptions:{color:m}})},[k,x,p,o,d,u,m]);const H=t=>{const c=t.target.files?.[0];if(!c)return;const h=new FileReader;h.onload=Y=>V(String(Y.target?.result||"")),h.readAsDataURL(c)},_=t=>{if(!s.current)return;const c={width:i,height:i};s.current.update({width:f,height:f}),s.current.download({name:"qr-code",extension:t}),s.current.update(c)};return e.jsxs("div",{className:"w-full h-full overflow-hidden",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-xl font-semibold tracking-tight",children:"ðŸ”³ Táº¡o QR Äa Dá»¥ng"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-90 mr-28",children:[e.jsx("span",{children:"ECC"}),e.jsxs("select",{className:`${n} h-8 w-[76px] py-1`,value:x,onChange:t=>I(t.target.value),children:[e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"M",children:"M"}),e.jsx("option",{value:"Q",children:"Q"}),e.jsx("option",{value:"H",children:"H"})]}),e.jsx("span",{children:"Xuáº¥t (px)"}),e.jsx("input",{className:`${n} h-8 w-[96px] py-1`,type:"number",min:300,max:4096,step:10,value:f,onChange:t=>R(Number(t.target.value))}),e.jsx("span",{children:"Margin"}),e.jsx("input",{className:`${n} h-8 w-[64px] py-1`,type:"number",min:0,max:8,value:o,onChange:t=>D(Number(t.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-[calc(100%-1.5rem)]",children:[e.jsxs("div",{className:"min-w-0 overflow-auto lg:overflow-hidden",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 ml-2 mr-2 mt-2",children:[e.jsxs("select",{className:`${n} w-[200px]`,value:r,onChange:t=>O(t.target.value),children:[e.jsx("option",{value:"link",children:"Link / Text"}),e.jsx("option",{value:"vcard",children:"vCard"}),e.jsx("option",{value:"wifi",children:"Wiâ€‘Fi"})]}),e.jsxs("div",{className:"mt-3 flex gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{children:"Dots"}),e.jsx("input",{type:"color",value:d,onChange:t=>P(t.target.value),className:"h-9 w-9 rounded-md border border-zinc-300"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{children:"Corner"}),e.jsx("input",{type:"color",value:u,onChange:t=>$(t.target.value),className:"h-9 w-9 rounded-md border border-zinc-300"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{children:"BG"}),e.jsx("input",{type:"color",value:m,onChange:t=>z(t.target.value),className:"h-9 w-9 rounded-md border border-zinc-300"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm ml-auto mt-3 cursor-pointer",children:[e.jsx("span",{className:"hidden sm:inline",children:"Logo"}),e.jsx("span",{className:"rounded-md bg-cyan-500 px-3 py-1.5 text-xs text-white hover:bg-cyan-600",children:"Chá»n tá»‡p"}),e.jsx("input",{type:"file",accept:"image/*",onChange:H,className:"hidden"})]}),p&&e.jsx("span",{className:"text-xs opacity-70 ml-2 mt-3",children:"ÄÃ£ chá»n 1 file"})]}),r==="link"&&e.jsxs("div",{className:"flex flex-col gap-2 ml-2 mr-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ná»™i dung"}),e.jsx("textarea",{className:`${n} min-h-[120px]`,maxLength:500,placeholder:"DÃ¡n link hoáº·c nháº­p textâ€¦",value:j,onChange:t=>A(t.target.value)})]}),r==="vcard"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Há» tÃªn"}),e.jsx("input",{className:n,value:N,onChange:t=>q(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"SÄT"}),e.jsx("input",{className:n,value:b,onChange:t=>W(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",className:n,value:y,onChange:t=>B(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"CÃ´ng ty"}),e.jsx("input",{className:n,value:C,onChange:t=>M(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Chá»©c danh"}),e.jsx("input",{className:n,value:w,onChange:t=>Q(t.target.value)})]})]}),r==="wifi"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"TÃªn máº¡ng (SSID)"}),e.jsx("input",{className:n,value:S,onChange:t=>G(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Máº­t kháº©u"}),e.jsx("input",{className:n,value:E,onChange:t=>U(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Báº£o máº­t"}),e.jsxs("select",{className:n,value:T,onChange:t=>F(t.target.value),children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"None",children:"None"})]})]})]})]}),e.jsx("div",{className:"min-w-0 overflow-hidden",children:e.jsxs("div",{className:"flex h-full flex-col items-center justify-start p-0",children:[e.jsx("div",{className:"flex w-full items-start justify-center",children:e.jsx("div",{ref:l,className:"h-[300px] w-[300px] rounded-xl p-0"})}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>_("png"),className:"rounded-xl bg-cyan-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-cyan-700",children:"Táº£i PNG"}),e.jsx("button",{onClick:()=>_("svg"),className:"rounded-xl bg-zinc-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-black",children:"Táº£i SVG"}),e.jsx("button",{onClick:()=>_("jpeg"),className:"rounded-xl bg-zinc-200 px-4 py-2 text-sm font-semibold text-zinc-900 hover:bg-zinc-300",children:"Táº£i JPEG"})]})]})})]})]})}export{Z as default};
