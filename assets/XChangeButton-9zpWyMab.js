import{r as s,j as e,P as je}from"./index-8b-tWTXh.js";import"./_commonjsHelpers-Cpj98o6Y.js";const ve="fixed inset-0 z-[1000] bg-black/70 backdrop-blur-sm flex items-center justify-center",fe="w-[92vw] max-w-[900px] max-h-[88vh] overflow-hidden glass rounded-2xl border border-white/15 shadow-2xl bg-white/10 backdrop-blur-xl text-zinc-100",Ne="flex items-center justify-between px-4 sm:px-5 py-3 border-b border-white/10",Ce="p-4 sm:p-5",ye="text-zinc-300 hover:text-white text-2xl leading-none font-bold px-2",j="w-full rounded-lg bg-white/5 border border-white/15 text-white placeholder:text-zinc-300/60 outline-none focus:ring-2 focus:ring-blue-400/60 px-3 py-2",o="rounded-lg bg-white/5 border border-white/15 text-white outline-none px-3 py-2",i="rounded-xl px-3 py-2 text-sm font-medium transition disabled:opacity-50",q="bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-400",v="bg-zinc-700 text-white hover:bg-zinc-900 focus:ring-2 focus:ring-zinc-400",f="mt-4 p-3 bg-white/5 border border-white/10 rounded-lg flex items-center justify-between";function N(c){return c===0?"0":c>0&&c<1?c<.01?c.toFixed(4).replace(".",","):c.toFixed(2).replace(".",","):Math.round(c).toLocaleString("de-DE")}function Fe({label:c="XChange",portalSelector:ie="body",className:re=""}){const[u,C]=s.useState(!1),[r,ue]=s.useState("currency");s.useRef(null);const[L,de]=s.useState("1"),[T,P]=s.useState("USD"),[d,z]=s.useState("VND"),[I,h]=s.useState("0 VND"),[he,U]=s.useState(!1),[M,me]=s.useState("1"),[D,W]=s.useState("lbs"),[y,G]=s.useState("kg"),[H,V]=s.useState("0 kg"),[Y,xe]=s.useState("1"),[E,J]=s.useState("inch"),[w,X]=s.useState("cm"),[_,O]=s.useState("0 cm"),[Q,pe]=s.useState("32"),[R,Z]=s.useState("F"),[m,ee]=s.useState("C"),[te,se]=s.useState("0 °C"),[ne,be]=s.useState("1"),[A,ae]=s.useState("sqm"),[k,le]=s.useState("sqft"),[oe,ce]=s.useState("0 ft²");s.useEffect(()=>{if(!u)return;document.body.style.overflow="hidden";const t=n=>n.key==="Escape"&&C(!1);return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""}},[u]);function x(t){t&&navigator.clipboard?.writeText(t).catch(()=>{})}async function p(t){const n=t??Number((L||"0").replace(/,/g,""));if(!isFinite(n)||n<0){h("Nhập số hợp lệ!");return}U(!0),h("Đang tải tỷ giá...");try{const l=await fetch(`https://open.er-api.com/v6/latest/${T.toUpperCase()}`);if(!l.ok)throw new Error(l.statusText);const a=await l.json();if(a.result==="success"&&a.rates?.[d]!=null){const B=a.rates[d],ge=n*B;h(`${N(ge)} ${d}`)}else h("Lỗi API!")}catch{h("Lỗi mạng!")}finally{U(!1)}}function F(){const t=Number(M);if(!isFinite(t)||t<0){V("Nhập số hợp lệ!");return}let n={lbs:t*453.592,kg:t*1e3,g:t}[D];const l={lbs:n/453.592,kg:n/1e3,g:n}[y];V(`${N(l)} ${y}`)}function S(){const t=Number(Y);if(!isFinite(t)||t<0){O("Nhập số hợp lệ!");return}const n={inch:.0254,cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.34},a=t*n[E]/n[w];O(`${N(a)} ${w}`)}function $(){const t=Number(Q);if(!isFinite(t)){se("Nhập số hợp lệ!");return}const n={F:a=>(a-32)*5/9+273.15,C:a=>a+273.15,K:a=>a}[R](t),l={F:a=>(a-273.15)*9/5+32,C:a=>a-273.15,K:a=>a}[m](n);se(`${N(l)} ${m==="F"?"°F":m==="C"?"°C":"K"}`)}function K(){const t=Number(ne);if(!isFinite(t)||t<0){ce("Nhập số hợp lệ!");return}const n={sqm:1,sqft:.092903,sqkm:1e6,acre:4046.86,ha:1e4},a=t*n[A]/n[k],B={sqm:"m²",sqft:"ft²",sqkm:"km²",acre:"acre",ha:"ha"};ce(`${N(a)} ${B[k]}`)}s.useEffect(()=>{u&&(p(),F(),S(),$(),K())},[u]);function b({onClick:t}){return e.jsx("button",{type:"button",className:"shrink-0 text-blue-400 hover:text-blue-300 cursor-pointer transition text-xl select-none px-2",onClick:t,title:"Đảo ngược đơn vị",children:"⇆"})}const g=({id:t,text:n})=>e.jsx("button",{className:"flex-1 py-2.5 text-sm font-medium border-b-2 "+(r===t?"border-blue-500 text-white":"border-transparent text-zinc-300 hover:text-white"),onClick:()=>ue(t),children:n});return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:re||"rounded-xl border border-white/15 bg-white/10 backdrop-blur-md px-3 py-2 text-sm font-semibold text-white hover:bg-white/20",onClick:()=>C(!0),children:c}),u&&e.jsx(je,{selector:ie,children:e.jsx("div",{className:ve,onMouseDown:t=>t.target===t.currentTarget&&C(!1),children:e.jsxs("div",{className:`${fe} animate-in fade-in zoom-in duration-150`,children:[e.jsxs("div",{className:Ne,children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Bộ chuyển đổi đơn vị"}),e.jsx("button",{className:ye,onClick:()=>C(!1),"aria-label":"Đóng",children:"×"})]}),e.jsxs("div",{className:"flex border-b border-white/10 bg-white/5",children:[e.jsx(g,{id:"currency",text:"Tiền tệ"}),e.jsx(g,{id:"weight",text:"Cân nặng"}),e.jsx(g,{id:"length",text:"Chiều dài"}),e.jsx(g,{id:"temperature",text:"Nhiệt độ"}),e.jsx(g,{id:"area",text:"Diện tích"})]}),e.jsxs("div",{className:`${Ce} overflow-y-auto max-h-[70vh] space-y-6`,children:[r==="currency"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-2",children:[e.jsx("input",{inputMode:"decimal",placeholder:"Nhập số tiền",className:j,value:L,onChange:t=>{const n=t.target.value.replace(/[^0-9]/g,""),l=n?Number(n).toLocaleString("en-US"):"";de(l),p(n?Number(n):0)},onKeyDown:t=>t.key==="Enter"&&p()}),e.jsx("div",{className:"hidden md:block"}),e.jsx("div",{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{className:o,value:T,onChange:t=>P(t.target.value),children:["USD","VND","EUR","GBP","JPY","CAD","AUD","CHF","CNY"].map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx(b,{onClick:()=>{const t=T;P(d),z(t),p()}}),e.jsx("select",{className:o,value:d,onChange:t=>z(t.target.value),children:["VND","USD","EUR","GBP","JPY","CAD","AUD","CHF","CNY"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsx("button",{onClick:()=>p(),disabled:he,children:e.jsx("span",{children:"Chuyển đổi"})}),e.jsxs("div",{className:f,children:[e.jsxs("p",{className:"text-blue-200",children:["Kết quả: ",e.jsx("span",{className:"font-bold",children:I})]}),e.jsx("button",{className:`${i} ${v}`,onClick:()=>x(I),children:"Copy"})]})]}),r==="weight"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:j,placeholder:"Nhập cân nặng",value:M,onChange:t=>me(t.target.value),onKeyDown:t=>t.key==="Enter"&&F()}),e.jsxs("select",{className:o,value:D,onChange:t=>W(t.target.value),children:[e.jsx("option",{value:"lbs",children:"Pound (lbs)"}),e.jsx("option",{value:"kg",children:"Kilogram (kg)"}),e.jsx("option",{value:"g",children:"Gram (g)"})]}),e.jsx(b,{onClick:()=>{const t=D;W(y),G(t),F()}}),e.jsxs("select",{className:o,value:y,onChange:t=>G(t.target.value),children:[e.jsx("option",{value:"kg",children:"Kilogram (kg)"}),e.jsx("option",{value:"lbs",children:"Pound (lbs)"}),e.jsx("option",{value:"g",children:"Gram (g)"})]})]}),e.jsx("button",{className:`${i} ${q} w-full`,onClick:F,children:"Chuyển đổi"}),e.jsxs("div",{className:f,children:[e.jsxs("p",{className:"text-blue-200",children:["Kết quả: ",e.jsx("span",{className:"font-bold",children:H})]}),e.jsx("button",{className:`${i} ${v}`,onClick:()=>x(H),children:"Copy"})]})]}),r==="length"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:j,placeholder:"Nhập chiều dài",value:Y,onChange:t=>xe(t.target.value),onKeyDown:t=>t.key==="Enter"&&S()}),e.jsx("select",{className:o,value:E,onChange:t=>J(t.target.value),children:["inch","cm","m","km","ft","yd","mi"].map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx(b,{onClick:()=>{const t=E;J(w),X(t),S()}}),e.jsx("select",{className:o,value:w,onChange:t=>X(t.target.value),children:["cm","inch","m","km","ft","yd","mi"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsx("button",{className:`${i} ${q} w-full`,onClick:S,children:"Chuyển đổi"}),e.jsxs("div",{className:f,children:[e.jsxs("p",{className:"text-blue-200",children:["Kết quả: ",e.jsx("span",{className:"font-bold",children:_})]}),e.jsx("button",{className:`${i} ${v}`,onClick:()=>x(_),children:"Copy"})]})]}),r==="temperature"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:j,placeholder:"Nhập nhiệt độ",value:Q,onChange:t=>pe(t.target.value),onKeyDown:t=>t.key==="Enter"&&$()}),e.jsxs("select",{className:o,value:R,onChange:t=>Z(t.target.value),children:[e.jsx("option",{value:"F",children:"Fahrenheit (°F)"}),e.jsx("option",{value:"C",children:"Celsius (°C)"}),e.jsx("option",{value:"K",children:"Kelvin (K)"})]}),e.jsx(b,{onClick:()=>{const t=R;Z(m),ee(t),$()}}),e.jsxs("select",{className:o,value:m,onChange:t=>ee(t.target.value),children:[e.jsx("option",{value:"C",children:"Celsius (°C)"}),e.jsx("option",{value:"F",children:"Fahrenheit (°F)"}),e.jsx("option",{value:"K",children:"Kelvin (K)"})]})]}),e.jsx("button",{className:`${i} ${q} w-full`,onClick:$,children:"Chuyển đổi"}),e.jsxs("div",{className:f,children:[e.jsxs("p",{className:"text-blue-200",children:["Kết quả: ",e.jsx("span",{className:"font-bold",children:te})]}),e.jsx("button",{className:`${i} ${v}`,onClick:()=>x(te),children:"Copy"})]})]}),r==="area"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:j,placeholder:"Nhập diện tích",value:ne,onChange:t=>be(t.target.value),onKeyDown:t=>t.key==="Enter"&&K()}),e.jsxs("select",{className:o,value:A,onChange:t=>ae(t.target.value),children:[e.jsx("option",{value:"sqm",children:"Mét vuông (m²)"}),e.jsx("option",{value:"sqft",children:"Feet vuông (ft²)"}),e.jsx("option",{value:"sqkm",children:"Kilomet vuông (km²)"}),e.jsx("option",{value:"acre",children:"Acre"}),e.jsx("option",{value:"ha",children:"Hecta (ha)"})]}),e.jsx(b,{onClick:()=>{const t=A;ae(k),le(t),K()}}),e.jsxs("select",{className:o,value:k,onChange:t=>le(t.target.value),children:[e.jsx("option",{value:"sqft",children:"Feet vuông (ft²)"}),e.jsx("option",{value:"sqm",children:"Mét vuông (m²)"}),e.jsx("option",{value:"sqkm",children:"Kilomet vuông (km²)"}),e.jsx("option",{value:"acre",children:"Acre"}),e.jsx("option",{value:"ha",children:"Hecta (ha)"})]})]}),e.jsx("button",{className:`${i} ${q} w-full`,onClick:K,children:"Chuyển đổi"}),e.jsxs("div",{className:f,children:[e.jsxs("p",{className:"text-blue-200",children:["Kết quả: ",e.jsx("span",{className:"font-bold",children:oe})]}),e.jsx("button",{className:`${i} ${v}`,onClick:()=>x(oe),children:"Copy"})]})]})]})]})})})]})}export{Fe as default};
