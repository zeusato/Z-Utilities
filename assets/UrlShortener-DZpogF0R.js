import{R as n,j as e}from"./index-DvwrxnGx.js";import"./_commonjsHelpers-Cpj98o6Y.js";function j({msg:i,type:c="success"}){const[o,d]=n.useState(!0);return n.useEffect(()=>{const l=setTimeout(()=>d(!1),2500);return()=>clearTimeout(l)},[]),e.jsxs("div",{className:`fixed top-6 right-6 z-[500] transition-transform duration-300 ${o?"translate-x-0":"translate-x-[150%]"} rounded-xl px-4 py-2 text-sm font-medium border
      ${c==="success"?"bg-emerald-500/90 border-emerald-400 text-white":"bg-rose-500/90 border-rose-400 text-white"}`,role:"status",children:[c==="success"?"‚úÖ ":"‚ùå ",i]})}function k(){const[i,c]=n.useState(""),[o,d]=n.useState(!1),[l,x]=n.useState(null),[u,a]=n.useState(""),[m,h]=n.useState(null),[g,p]=n.useState(!1),f=r=>{try{const t=new URL(r.trim());return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},w=async r=>{try{const t=await fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(r)}`);if(t.ok){const s=await t.text();if(s&&s.startsWith("https://tinyurl.com/"))return{url:s,service:"TinyURL"}}}catch{}try{const t=await fetch(`https://is.gd/create.php?format=simple&url=${encodeURIComponent(r)}`);if(t.ok){const s=await t.text();if(s&&s.startsWith("https://is.gd/"))return{url:s,service:"is.gd"}}}catch{}try{const t=await fetch(`https://v.gd/create.php?format=simple&url=${encodeURIComponent(r)}`);if(t.ok){const s=await t.text();if(s&&s.startsWith("https://v.gd/"))return{url:s,service:"v.gd"}}}catch{}return null},b=async()=>{p(!1),x(null),a("");const r=i.trim();if(!r){a("Vui l√≤ng nh·∫≠p URL c·∫ßn r√∫t g·ªçn");return}if(!f(r)){a("URL kh√¥ng h·ª£p l·ªá. Nh·ªõ k√®m http:// ho·∫∑c https://");return}d(!0);try{const t=await w(r);if(!t)throw new Error("C√°c d·ªãch v·ª• r√∫t g·ªçn ƒëang b·∫≠n. Th·ª≠ l·∫°i sau.");x(t),h({msg:`ƒê√£ r√∫t g·ªçn qua ${t.service}!`})}catch(t){a(t?.message||"C√≥ l·ªói x·∫£y ra khi r√∫t g·ªçn URL"),h({msg:t?.message||"C√≥ l·ªói x·∫£y ra",type:"error"})}finally{d(!1)}},y=async()=>{if(l?.url)try{await navigator.clipboard.writeText(l.url),p(!0),h({msg:"ƒê√£ sao ch√©p link r√∫t g·ªçn!"}),setTimeout(()=>p(!1),1500)}catch{h({msg:"Kh√¥ng th·ªÉ copy, h√£y sao ch√©p th·ªß c√¥ng.",type:"error"})}};return e.jsxs("div",{className:"w-full h-full px-4 md:px-6",children:[e.jsxs("div",{className:"rounded-2xl glass p-6 w-full h-1000 flex flex-col",children:[e.jsx("div",{className:"w-full",children:e.jsx("label",{htmlFor:"url",className:"block mb-2 font-medium",children:"Nh·∫≠p URL c·∫ßn r√∫t g·ªçn"})}),e.jsxs("div",{className:"mt-4 flex gap = 3",children:[e.jsx("input",{id:"url",type:"url",value:i,onChange:r=>{c(r.target.value),a("")},onKeyDown:r=>{r.key==="Enter"&&!o&&b()},placeholder:"https://example.com/very-long-url...",className:`w-full rounded-2xl px-4 py-3 text-base border outline-none transition
              bg-white/10 backdrop-blur border-white/20 focus:border-cyan-400/70 focus:bg-white/15
              ${u?"border-rose-400/70 bg-rose-500/10":""}`,autoComplete:"url"}),u&&e.jsxs("div",{className:"mt-2 rounded-xl px-3 py-2 text-sm border border-rose-400/50 bg-rose-500/15",children:["‚ùó ",u]}),e.jsx("button",{onClick:b,disabled:o,className:`ml-5 w-[300px] rounded-2xl px-4 py-3 font-semibold border border-white/20\r
                     bg-blue-500/40 hover:bg-blue-500/60 backdrop-blur transition\r
                     disabled:opacity-60 disabled:cursor-not-allowed`,children:o?e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 rounded-full border-2 border-white/40 border-t-white animate-spin"}),"ƒêang r√∫t g·ªçn‚Ä¶"]}):"R√∫t g·ªçn Link"})]}),l&&e.jsxs("div",{className:"mt-6 rounded-xl border border-white/15 bg-white/10 backdrop-blur p-4",children:[e.jsx("div",{className:"text-sm text-white/80 mb-2",children:"‚úÖ Link ƒë√£ r√∫t g·ªçn th√†nh c√¥ng"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-white/15 bg-white/5 px-3 py-2",children:[e.jsx("div",{className:"font-mono text-cyan-300 break-all",children:l.url}),e.jsx("button",{onClick:y,className:`ml-auto rounded-lg px-3 py-1.5 text-sm border transition
                  ${g?"bg-emerald-500/80 border-emerald-400 text-white":"bg-white/10 hover:bg-white/15 border-white/20"}`,children:g?"ƒê√£ copy!":"Copy"})]})]})]}),e.jsxs("div",{className:"mt-4 rounded-2xl glass p-4 w-full",children:[e.jsx("div",{className:"text-white/90 font-medium mb-2",children:"‚ú® T√≠nh nƒÉng"}),e.jsxs("ul",{className:"grid sm:grid-cols-2 gap-2 text-sm text-white/85",children:[e.jsx("li",{children:"‚ö° R√∫t g·ªçn nhanh ch√≥ng"}),e.jsx("li",{children:"üîí An to√†n, kh√¥ng c·∫ßn API key"}),e.jsx("li",{children:"üìã Copy 1 ch·∫°m"}),e.jsx("li",{children:"üì± T·ªëi ∆∞u mobile"})]})]}),m&&e.jsx(j,{msg:m.msg,type:m.type})]})}export{k as default};
